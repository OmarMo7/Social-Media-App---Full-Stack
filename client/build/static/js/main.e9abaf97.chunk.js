(this["webpackJsonpmern-stack-client"] = this["webpackJsonpmern-stack-client"] || []).push([[0], { 191: function (e, t, a) { e.exports = a.p + "static/media/fakebook-white.4a25e43a.png" }, 192: function (e, t, a) { e.exports = a.p + "static/media/fakebook-blue.d744d96c.png" }, 208: function (e, t, a) { e.exports = a(263) }, 262: function (e, t, a) { }, 263: function (e, t, a) { "use strict"; a.r(t); var n = a(0), r = a.n(n), o = a(19), c = a.n(o), l = a(20), i = a(86), s = a(193), u = a(29), m = a(9), d = Object(i.b)({ posts: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { posts: [], post: "", isLoading: !1 }, t = arguments.length > 1 ? arguments[1] : void 0; switch (t.type) { case "START_LOADING": return Object(m.a)(Object(m.a)({}, e), {}, { isLoading: !0 }); case "END_LOADING": return Object(m.a)(Object(m.a)({}, e), {}, { isLoading: !1 }); case "FETCH_ALL": return Object(m.a)(Object(m.a)({}, e), {}, { posts: t.payload.data, currentPage: t.payload.currentPage, numberOfPages: t.payload.numberOfPages }); case "FETCH_BY_SEARCH": return Object(m.a)(Object(m.a)({}, e), {}, { posts: t.payload.data }); case "FETCH_POST": return console.log(e.post), Object(m.a)(Object(m.a)({}, e), {}, { post: t.payload }); case "LIKE": return Object(m.a)(Object(m.a)({}, e), {}, { posts: e.posts.map((function (e) { return e._id === t.payload._id ? t.payload : e })) }); case "CREATE": return Object(m.a)(Object(m.a)({}, e), {}, { posts: [].concat(Object(u.a)(e.posts), [t.payload]) }); case "COMMENT": return console.log(t.payload), Object(m.a)(Object(m.a)({}, e), {}, { posts: e.posts.map((function (e) { return e._id === t.payload._id ? t.payload : e })) }); case "UPDATE": return Object(m.a)(Object(m.a)({}, e), {}, { posts: e.posts.map((function (e) { return e._id === t.payload._id ? t.payload : e })) }); case "DELETE": return Object(m.a)(Object(m.a)({}, e), {}, { posts: e.posts.filter((function (e) { return e._id !== t.payload })) }); default: return e } }, auth: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { authData: null, error: { exists: !1, messege: "" } }, t = arguments.length > 1 ? arguments[1] : void 0; switch (t.type) { case "AUTH": return localStorage.setItem("profile", JSON.stringify(Object(m.a)({}, null === t || void 0 === t ? void 0 : t.data))), Object(m.a)(Object(m.a)({}, e), {}, { authData: null === t || void 0 === t ? void 0 : t.data }); case "LOGOUT": return localStorage.clear(), Object(m.a)(Object(m.a)({}, e), {}, { authData: null }); case "error": return Object(m.a)(Object(m.a)({}, e), {}, { error: { exists: !0, messege: null === t || void 0 === t ? void 0 : t.payload } }); default: return e } } }), p = a(13), g = a(194), f = a(331), v = a(316), b = a(308), h = a(39), E = a(22), O = a(306), y = a(307), j = a(332), x = a(269), k = a(12), C = a(300), w = a(302), N = Object(C.a)((function (e) { var t, a; return { appBar: { borderRadius: 15, display: "flex", flexDirection: "row", justifyContent: "space-between", marginTop: "10px", alignItems: "center", padding: "10px 10px 10px 10px" }, heading: { color: "rgba(0,183,255, 1)", textDecoration: "none", fontFamily: "Edu VIC WA NT Beginner, cursive" }, image: { marginLeft: "5px" }, toolbar: { display: "flex", justifyContent: "flex-end", width: "400px" }, profile: (t = { display: "flex", justifyContent: "space-between", width: "400px" }, Object(k.a)(t, e.breakpoints.down("sm"), { width: "300px" }), Object(k.a)(t, e.breakpoints.down("522"), { display: "inline-block", width: "150px" }), t), userName: { display: "flex", alignItems: "center" }, brandContainer: { display: "flex", alignItems: "center" }, purple: (a = {}, Object(k.a)(a, e.breakpoints.down("522"), { display: "none" }), Object(k.a)(a, "color", e.palette.getContrastText(w.a[500])), Object(k.a)(a, "backgroundColor", w.a[500]), a) } })), S = a(178), I = a(303), _ = function () { var e, t, a, o, c = Object(l.b)(), i = N(), s = Object(E.g)(), u = Object(E.h)(), m = Object(n.useState)(JSON.parse(localStorage.getItem("profile"))), d = Object(p.a)(m, 2), g = d[0], f = d[1], v = Object(I.a)(), k = Object(n.useCallback)((function () { c({ type: "LOGOUT" }), s.push("/"), f(null) }), [c, s]); return Object(n.useEffect)((function () { var e = null === g || void 0 === g ? void 0 : g.token; e && (1e3 * Object(S.a)(e).exp < (new Date).getTime() && k()); f(JSON.parse(localStorage.getItem("profile"))) }), [u, k, null === g || void 0 === g ? void 0 : g.token]), r.a.createElement(O.a, { className: i.appBar, position: "static", style: { backgroundColor: v.palette.appBar.main, color: v.palette.text.primary } }, r.a.createElement("div", { className: i.brandContainer, component: h.b, to: "/" }, r.a.createElement("a", { href: "/" }, r.a.createElement("img", { className: i.image, src: v.palette.images.appBar, alt: "fakebook", height: "60" }))), r.a.createElement(y.a, { className: i.toolbar }, g ? r.a.createElement("div", { className: i.profile }, r.a.createElement(j.a, { className: i.purple, alt: null === g || void 0 === g || null === (e = g.result) || void 0 === e ? void 0 : e.name, src: null === g || void 0 === g || null === (t = g.result) || void 0 === t ? void 0 : t.imageUrl }, " ", null === g || void 0 === g || null === (a = g.result) || void 0 === a ? void 0 : a.name.charAt(0)), r.a.createElement(x.a, { className: i.username, variant: "h6" }, null === g || void 0 === g || null === (o = g.result) || void 0 === o ? void 0 : o.name), r.a.createElement(b.a, { className: i.logout, variant: "contained", color: "secondary", onClick: k }, "Logout")) : "/auth" !== u.pathname ? r.a.createElement(b.a, { component: h.b, to: "/auth", variant: "contained", color: "primary" }, "Sign Up") : r.a.createElement(b.a, { component: h.b, to: "/", variant: "contained", color: "primary" }, "See Posts"))) }, T = a(313), A = a(314), B = a(16), D = a.n(B), L = a(30), P = a(309), R = a(200), F = a(310), M = a(311), W = a(312), z = a(180), H = a.n(z), U = a(182), G = a.n(U), J = a(181), Y = a.n(J), K = a(95), Q = a.n(K), V = a(120), q = a.n(V), X = a(179), Z = a.n(X).a.create({ baseURL:"https://my-fake-book.herokuapp.com/api"});Z.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var $=function(e){return Z.get("/posts?page=".concat(e))},ee=function(e){return Z.get("/posts/".concat(e))},te=function(e){return Z.get("/posts/search?searchQuery=".concat(e.search,"&tags=").concat(e.tags))},ae=function(e){return Z.patch("/posts/".concat(e,"/likePost"))},ne=function(e,t){return Z.post("/posts/".concat(t,"/commentPost"),{value:e})},re=function(e,t){return Z.patch("/posts/".concat(e),t)},oe=function(e){return Z.delete("/posts/".concat(e))},ce=function(e){return Z.post("/user/signin",e)},le=function(e){return Z.post("/user/signup",e)},ie=function(e){return function(){var t=Object(L.a)(D.a.mark((function t(a,n){var r,o;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,c=e,Z.post("/posts",c);case 4:r=t.sent,o=r.data,a({type:"CREATE",payload:o}),n.push("/posts/".concat(o._id)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},se=function(e,t){return function(){var a=Object(L.a)(D.a.mark((function a(n){var r,o;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,re(e,t);case 3:r=a.sent,o=r.data,n({type:"UPDATE",payload:o}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(L.a)(D.a.mark((function t(a){var n,r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ae(e);case 3:n=t.sent,r=n.data,a({type:"LIKE",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},me=function(e,t){return function(){var a=Object(L.a)(D.a.mark((function a(n){var r,o;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ne(e,t);case 3:return r=a.sent,o=r.data,n({type:"COMMENT",payload:o}),a.abrupt("return",o.comments);case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},de=function(e){return function(){var t=Object(L.a)(D.a.mark((function t(a){var n,r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,te(e);case 4:n=t.sent,r=n.data.data,a({type:"FETCH_BY_SEARCH",payload:{data:r}}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},pe=Object(C.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.1)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},cardAction:{display:"block",textAlign:"initial"}}),ge=function(e){var t,a,o,c,i,s,m=e.post,d=e.setCurrentId,g=Object(l.b)(),f=pe(),v=JSON.parse(localStorage.getItem("profile")),h=Object(E.g)(),O=Object(I.a)(),y=Object(n.useState)(null===m||void 0===m?void 0:m.likes),j=Object(p.a)(y,2),k=j[0],C=j[1],w=k.find((function(e){var t,a;return e===((null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t.googleId)||(null===v||void 0===v||null===(a=v.result)||void 0===a?void 0:a._id))})),N=(null===v||void 0===v?void 0:v.result.googleId)||(null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t._id),S=function(){var e=Object(L.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(ue(m._id)),C(w?m.likes.filter((function(e){var t;return e!==((null===v||void 0===v?void 0:v.result.googleId)||(null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t._id))})):[].concat(Object(u.a)(m.likes),[N]));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){return k.length>0?k.find((function(e){var t,a;return e===((null===v||void 0===v||null===(t=v.result)||void 0===t?void 0:t.googleId)||(null===v||void 0===v||null===(a=v.result)||void 0===a?void 0:a._id))}))?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{fontSize:"small"}),"\xa0",k.length>2?"You and ".concat(k.length-1," others"):"".concat(k.length," like").concat(k.length>1?"s":"")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{fontSize:"small"}),"\xa0",k.length," ",1===k.length?"Like":"Likes"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{fontSize:"small"}),"\xa0Like")};return r.a.createElement(P.a,{className:f.card,style:{backgroundColor:O.palette.card.main},raised:!0,elevation:6},r.a.createElement(R.a,{component:"span",name:"test",className:f.cardAction,onClick:function(e){h.push("/posts/".concat(m._id))}},r.a.createElement(F.a,{className:f.media,image:m.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:m.title}),r.a.createElement("div",{className:f.overlay},r.a.createElement(x.a,{variant:"h6"},m.name),r.a.createElement(x.a,{variant:"body2"},q()(m.createdAt).fromNow())),((null===v||void 0===v||null===(a=v.result)||void 0===a?void 0:a.googleId)===(null===m||void 0===m?void 0:m.creator)||(null===v||void 0===v||null===(o=v.result)||void 0===o?void 0:o._id)===(null===m||void 0===m?void 0:m.creator))&&r.a.createElement("div",{className:f.overlay2,name:"edit"},r.a.createElement(b.a,{onClick:function(e){e.stopPropagation(),d(m._id)},style:{color:"white"},size:"small"},r.a.createElement(Y.a,{fontSize:"medium"}))),r.a.createElement("div",{className:f.details},r.a.createElement(x.a,{variant:"body2",color:"textSecondary",component:"h2"},m.tags.map((function(e){return"#".concat(e," ")})))),r.a.createElement(x.a,{className:f.title,gutterBottom:!0,variant:"h5",component:"h2"},m.title),r.a.createElement(M.a,null,r.a.createElement(x.a,{variant:"body2",color:"textSecondary",component:"p"},null===(c=m.message)||void 0===c?void 0:c.split(" ").splice(0,20).join(" "),"..."))),r.a.createElement(W.a,{className:f.cardActions},r.a.createElement(b.a,{size:"small",color:"primary",disabled:!(null===v||void 0===v?void 0:v.result),onClick:S},r.a.createElement(_,null)),((null===v||void 0===v||null===(i=v.result)||void 0===i?void 0:i.googleId)===(null===m||void 0===m?void 0:m.creator)||(null===v||void 0===v||null===(s=v.result)||void 0===s?void 0:s._id)===(null===m||void 0===m?void 0:m.creator))&&r.a.createElement(b.a,{size:"small",color:"secondary",onClick:function(){return g((e=m._id,function(){var t=Object(L.a)(D.a.mark((function t(a){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe(e);case 3:a({type:"DELETE",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e}},r.a.createElement(G.a,{fontSize:"small"})," \xa0 Delete")))},fe=Object(C.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),ve=function(e){var t=e.setCurrentId,a=Object(l.c)((function(e){return e.posts})),n=a.posts,o=a.isLoading,c=fe();return(null===n||void 0===n?void 0:n.length)||o?o?r.a.createElement(T.a,null):r.a.createElement(A.a,{className:c.container,container:!0,alignItems:"stretch",spacing:3},null===n||void 0===n?void 0:n.map((function(e){return r.a.createElement(A.a,{key:e._id,item:!0,xs:12,sm:12,md:6,lg:3},r.a.createElement(ge,{post:e,setCurrentId:t}))}))):"You have no posts yet"},be=a(198),he=a(325),Ee=a(183),Oe=a.n(Ee),ye=Object(C.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),je=function(e){var t=e.currentId,a=e.setCurrentId,o=e.userInfo,c=Object(n.useState)({name:"",title:"",message:"",tags:"",selectedFile:""}),i=Object(p.a)(c,2),s=i[0],u=i[1],d=Object(l.c)((function(e){return t?e.posts.posts.find((function(e){return e._id===t})):null})),g=Object(l.b)(),f=ye(),v=o,h=Object(E.g)();Object(n.useEffect)((function(){d&&u(d)}),[d]);var O=function(){a(0),u({name:"",title:"",message:"",tags:"",selectedFile:""})},y=function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),0===t?(g(ie(Object(m.a)(Object(m.a)({},s),{},{name:null===v||void 0===v||null===(n=v.result)||void 0===n?void 0:n.name})),h),O()):(g(se(t,Object(m.a)(Object(m.a)({},s),{},{name:null===v||void 0===v||null===(r=v.result)||void 0===r?void 0:r.name}))),O());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===v||void 0===v?void 0:v.result)?r.a.createElement(be.a,{className:f.paper},r.a.createElement("form",{autoComplete:"off",noValidate:!0,className:"".concat(f.root," ").concat(f.form),onSubmit:y},r.a.createElement(x.a,{variant:"h6"},t?'Editing "'.concat(d.title,'"'):"Creating a Post"),r.a.createElement(he.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:s.title,onChange:function(e){return u(Object(m.a)(Object(m.a)({},s),{},{title:e.target.value}))}}),r.a.createElement(he.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,minRows:4,value:s.message,onChange:function(e){return u(Object(m.a)(Object(m.a)({},s),{},{message:e.target.value}))}}),r.a.createElement(he.a,{name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,value:s.tags,onChange:function(e){return u(Object(m.a)(Object(m.a)({},s),{},{tags:e.target.value.split(",")}))}}),r.a.createElement("div",{className:f.fileInput},r.a.createElement(Oe.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return u(Object(m.a)(Object(m.a)({},s),{},{selectedFile:t}))}})),r.a.createElement(b.a,{className:f.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0},"Submit"),r.a.createElement(b.a,{variant:"contained",color:"secondary",size:"small",onClick:O,fullWidth:!0},"Clear"))):r.a.createElement(be.a,{className:f.paper,elevation:2},r.a.createElement(x.a,{variant:"h6",align:"center"},"Please sign up to create posts and beautiful stuff!"))},xe=a(329),ke=a(184),Ce=a.n(ke),we=a(335),Ne=a(327),Se=Object(C.a)((function(){return{ul:{justifyContent:"space-around"}}})),Ie=function(e){var t=e.page,a=Object(l.c)((function(e){return e.posts})).numberOfPages,o=Se(),c=Object(l.b)();return Object(n.useEffect)((function(){console.log(t),t&&c(function(e){return function(){var t=Object(L.a)(D.a.mark((function t(a){var n,r,o,c,l;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"START_LOADING"}),t.prev=1,t.next=4,$(e);case 4:n=t.sent,r=n.data,o=r.data,c=r.currentPage,l=r.numberOfPages,a({type:"FETCH_ALL",payload:{data:o,currentPage:c,numberOfPages:l}}),a({type:"END_LOADING"}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t,c]),r.a.createElement(we.a,{classes:{ul:o.ul},count:a,page:Number(t)||1,variant:"outlined",color:"primary",renderItem:function(e){return r.a.createElement(Ne.a,Object.assign({},e,{component:h.b,to:"/posts?page=".concat(e.page)}))}})},_e=Object(C.a)((function(e){return{appBarSearch:{borderRadius:4,marginBottom:"1rem",display:"flex",padding:"16px"},pagination:{borderRadius:4,marginTop:"1rem",padding:"16px"},gridContainer:Object(k.a)({},e.breakpoints.down("xs"),{flexDirection:"column-reverse"})}})),Te=r.a.memo((function(){var e=Object(n.useState)(0),t=Object(p.a)(e,2),a=t[0],o=t[1],c=Object(l.b)(),i=new URLSearchParams(Object(E.h)().search),s=_e(),m=Object(E.g)(),d=i.get("page")||1,g=i.get("searchQuery"),f=Object(n.useState)("none"),h=Object(p.a)(f,2),y=h[0],j=h[1],x=Object(n.useState)([]),k=Object(p.a)(x,2),C=k[0],w=k[1],N=JSON.parse(localStorage.getItem("profile")),S=function(){y.trim()||C?(c(de({search:y,tags:C.join(",")})),m.push("/posts/search?searchQuery=".concat(y||"none","&tags=").concat(C.join(",")))):m.push("/")};return r.a.createElement(xe.a,{in:!0},r.a.createElement(v.a,{maxWidth:"xl"},r.a.createElement(A.a,{container:!0,justifyContent:"space-between",alignItems:"stretch",spacing:3,className:s.gridContainer},r.a.createElement(A.a,{item:!0,xs:12,sm:6,md:9},r.a.createElement(ve,{setCurrentId:o})),r.a.createElement(A.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(O.a,{className:s.appBarSearch,position:"static",color:"inherit"},r.a.createElement(he.a,{name:"search",variant:"outlined",label:"Search Posts",fullWidth:!0,onKeyDown:function(e){13===e.keyCode&&S()},value:"none"===y?"":y,onChange:function(e){j(e.target.value)}}),r.a.createElement(Ce.a,{style:{margin:"10px 0"},value:C,onAdd:function(e){return t=e,w([].concat(Object(u.a)(C),[t]));var t},onDelete:function(e){return t=e,w(C.filter((function(e){return e!==t})));var t},label:"Search Tags",variant:"outlined"}),r.a.createElement(b.a,{onClick:S,className:s.searchButton,variant:"contained",color:"primary"},"Search")),r.a.createElement(je,{currentId:a,setCurrentId:o,userInfo:N}),!g&&!C.length&&r.a.createElement(be.a,{className:s.pagination,elevation:6},r.a.createElement(Ie,{page:d}))))))})),Ae=a(317),Be=a(318),De=a(185),Le=a.n(De),Pe=a(186),Re=a.n(Pe),Fe=function(e){var t=e.name,a=e.handleChange,n=e.label,o=e.half,c=e.autoFocus,l=e.type,i=e.handleShowPassword;return r.a.createElement(A.a,{item:!0,xs:12,sm:o?6:12},r.a.createElement(he.a,{name:t,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:n,autoFocus:c,type:l,InputProps:"password"===t?{endAdornment:r.a.createElement(Ae.a,{position:"end"},r.a.createElement(Be.a,{onClick:i},"password"===l?r.a.createElement(Le.a,null):r.a.createElement(Re.a,null)))}:null}))},Me=function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"g_id_onload","data-client_id":"627073650855-1845cbhj0t4f65opj6rbimjcjr8e0fg1.apps.googleusercontent.com","data-context":"signin","data-ux_mode":"popup","data-login_uri":"http://localhost:3000/auth","data-auto_prompt":"false"}),r.a.createElement("div",{className:"g_id_signin","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left"}))},We=function(e){var t=e.errorMessege,a=e.classes;return r.a.createElement("div",null,r.a.createElement(be.a,{className:a.paper},r.a.createElement(x.a,{variant:"h6",align:"center"},t)))},ze=a(187),He=a.n(ze),Ue=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),Ge={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Je=function(){var e=Object(n.useState)(Ge),t=Object(p.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(p.a)(c,2),s=i[0],u=i[1],d=Object(l.b)(),g=Object(E.g)(),f=Object(l.c)((function(e){return e.auth.error})),h=Ue(),O=Object(n.useState)(!1),y=Object(p.a)(O,2),C=y[0],w=y[1],N=function(e){return o(Object(m.a)(Object(m.a)({},a),{},Object(k.a)({},e.target.name,e.target.value)))};return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(be.a,{className:h.paper,elevation:3},r.a.createElement(j.a,{className:h.avatar},r.a.createElement(He.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},s?"Sign up":"Sign in"),r.a.createElement("form",{className:h.form,onSubmit:function(e){var t,n;e.preventDefault(),d(s?(t=a,n=g,function(){var e=Object(L.a)(D.a.mark((function e(a){var r,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le(t);case 3:r=e.sent,o=r.data,a({type:"AUTH",data:o}),n.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"error",payload:e.t0.response.data.messege}),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()):function(e,t){return function(){var a=Object(L.a)(D.a.mark((function a(n){var r,o;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ce(e);case 3:r=a.sent,o=r.data,n({type:"AUTH",data:o}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,g))}},r.a.createElement(A.a,{container:!0,spacing:2},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{name:"firstName",label:"First Name",handleChange:N,autoFocus:!0,half:!0}),r.a.createElement(Fe,{name:"lastName",label:"Last Name",handleChange:N,half:!0})),r.a.createElement(Fe,{name:"email",label:"Email Address",handleChange:N,type:"email"}),r.a.createElement(Fe,{name:"password",label:"Password",handleChange:N,type:C?"text":"password",handleShowPassword:function(){return w(!C)}}),s&&r.a.createElement(Fe,{name:"confirmPassword",label:"Repeat Password",handleChange:N,type:"password"})),f.exists?r.a.createElement(We,{errorMessege:f.messege,classes:h}):"",r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:h.submit},s?"Sign Up":"Sign In"),r.a.createElement(Me,null),r.a.createElement(A.a,{container:!0,justifyContent:"flex-end"},r.a.createElement(A.a,{item:!0},r.a.createElement(b.a,{onClick:function(){var e=document.getElementsByName("email")[0],t=document.getElementsByName("password")[0];o(Object(m.a)(Object(m.a)({},Ge),{},{email:e.value,password:t.value})),u((function(e){return!e})),w(!1)}},s?"Already have an account? Sign in":"Don't have an account? Sign Up"))))))},Ye=a(320),Ke=a(330),Qe=Object(C.a)((function(e){var t;return{media:(t={borderRadius:"20px",objectFit:"cover",width:"70%",left:"140px",position:"relative"},Object(k.a)(t,e.breakpoints.down("sm"),{float:"left",width:"40%"}),Object(k.a)(t,e.breakpoints.up("sm"),{float:"left",width:"50%",marginBottom:"20%"}),t),multilineColor:{color:e.palette.text.primary},card:Object(k.a)({display:"flex",width:"100%"},e.breakpoints.down("sm"),{flexWrap:"wrap",flexDirection:"column-reverse"}),section:{borderRadius:"20px",margin:"10px"},imageSection:Object(k.a)({right:"10%"},e.breakpoints.down("sm"),{marginLeft:0}),recommendedPosts:Object(k.a)({display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column"}),loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderRadius:"15px",height:"39vh"},commentsOuterContainer:{},commentsInnerContainer:{height:"200px",overflowY:"auto",marginRight:"30px",marginBottom:"10px"}}})),Ve=a(333),qe=a(73),Xe=function(e){var t=e.post,a=JSON.parse(localStorage.getItem("profile")),o=Object(n.useState)(""),c=Object(p.a)(o,2),i=c[0],s=c[1],u=Object(l.b)(),m=Object(n.useState)(null===t||void 0===t?void 0:t.comments),d=Object(p.a)(m,2),g=d[0],f=d[1],v=Qe(),h=Object(n.useRef)(),E=Object(I.a)(),O=function(){var e=Object(L.a)(D.a.mark((function e(){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(me("".concat(null===a||void 0===a||null===(n=a.result)||void 0===n?void 0:n.name,": ").concat(i),null===t||void 0===t?void 0:t._id));case 2:r=e.sent,s(""),f(r),h.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Ve.a,{sx:{color:E.palette.text.primary}},r.a.createElement("div",{className:v.commentsOuterContainer},r.a.createElement("div",{className:v.commentsInnerContainer},r.a.createElement(x.a,{gutterBottom:!0,variant:"h6"},"Comments"),null===g||void 0===g?void 0:g.map((function(e,t){return r.a.createElement(x.a,{key:t,gutterBottom:!0,variant:"subtitle1"},r.a.createElement("strong",null,e.split(": ")[0]),e.split(":")[1])})),r.a.createElement("div",{ref:h})),r.a.createElement("div",{style:{width:"70%"}},r.a.createElement(x.a,{gutterBottom:!0,variant:"h6"},"Write a comment"),r.a.createElement(he.a,{style:{color:qe.a},fullWidth:!0,minRows:4,variant:"outlined",label:"Comment",multiline:!0,value:i,onChange:function(e){return s(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(b.a,{style:{marginTop:"10px",color:E.palette.primary.main,backgroundColor:E.palette.buttons.main},fullWidth:!0,disabled:!i.length,color:"primary",variant:"contained",onClick:O},"Comment")))))},Ze=function(){var e=Object(l.b)(),t=Object(E.g)(),a=Object(I.a)(),o=Qe(),c=Object(l.c)((function(e){return e.posts})),i=c.post,s=c.posts,u=c.isLoading,m=Object(E.i)().id;if(Object(n.useEffect)((function(){e(function(e){return function(){var t=Object(L.a)(D.a.mark((function t(a){var n,r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,ee(e);case 4:n=t.sent,r=n.data,a({type:"FETCH_POST",payload:r}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(m))}),[m]),Object(n.useEffect)((function(){i&&e(de({search:"none",tags:null===i||void 0===i?void 0:i.tags.join(",")}))}),[i]),!i)return null;if(u)return r.a.createElement("div",{className:o.loadingPaper},r.a.createElement(T.a,{size:"7em"}));var d=s.filter((function(e){var t=e._id;return i._id!==t}));return document.title=i.title,r.a.createElement(v.a,{maxWidth:"xl"},r.a.createElement(be.a,{style:{padding:"20px",borderRadius:"15px",backgroundColor:a.palette.background.default},elevation:6},r.a.createElement("div",{className:o.card},r.a.createElement("div",{className:o.section},r.a.createElement(Ke.a,{sx:{color:a.palette.text.primary}},r.a.createElement(x.a,{variant:"h3",component:"h2"},i.title),r.a.createElement(x.a,{gutterBottom:!0,variant:"h6",color:"primary",component:"h2"},i.tags.map((function(e){return"#".concat(e," ")}))),r.a.createElement(x.a,{gutterBottom:!0,variant:"body1",component:"p"},i.message),r.a.createElement(x.a,{variant:"h6"},"Created by: ",i.name),r.a.createElement(x.a,{variant:"body1"},q()(i.createdAt).fromNow()),r.a.createElement(Ye.a,{style:{margin:"20px 0"}}),r.a.createElement(x.a,{variant:"body1"},i.messege),r.a.createElement(Ye.a,{style:{margin:"20px 0"}}),r.a.createElement(x.a,{variant:"body1"},r.a.createElement("strong",null,"Realtime Chat - coming soon!")),r.a.createElement(Ye.a,{style:{margin:"20px 0"}}),r.a.createElement(Xe,{post:i}),r.a.createElement(Ye.a,{style:{margin:"20px 0"}}))),r.a.createElement("div",{className:o.imageSection},r.a.createElement("img",{className:o.media,src:i.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",alt:i.title}))),d&&r.a.createElement("div",{className:o.section},r.a.createElement(Ke.a,{sx:{color:a.palette.text.primary}},r.a.createElement(x.a,{gutterBottom:!0,variant:"h5"}," You might also like: "),r.a.createElement(Ye.a,null),r.a.createElement("div",{className:o.recommendedPosts},d.map((function(e){return r.a.createElement("div",{style:{margin:"20px",cursor:"pointer"},onClick:function(){var a;a=e._id,t.push("/posts/".concat(a))},key:e._id},r.a.createElement(x.a,{gutterBottom:!0,variant:"h6"},e.title),r.a.createElement(x.a,{gutterBottom:!0,variant:"body1"},e.name),r.a.createElement(x.a,{gutterBottom:!0,variant:"body1"},e.message),r.a.createElement(x.a,{gutterBottom:!0,variant:"h6"},r.a.createElement(Q.a,{fontSize:"small"})," ",e.likes.length),r.a.createElement("img",{src:e.selectedFile,width:"100px"}))})))))))},$e=Object(C.a)((function(){return{appBar:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},heading:{color:"rgba(0,183,255, 1)"},image:{marginLeft:"15px"},height:{minHeight:"100vh",bottom:"0"},darkModeButton:{fontSize:"0.8rem",margin:"20px"}}})),et=a(326),tt=a(190),at=a.n(tt),nt=a(189),rt=a.n(nt),ot=r.a.createContext({toggleColorMode:function(){}}),ct=function(){var e=Object(I.a)(),t=r.a.useContext(ot),a=$e();return document.body.style.backgroundColor=e.palette.background.default,r.a.createElement(h.a,null,r.a.createElement(v.a,{className:a.height,style:{backgroundColor:e.palette.background.default,color:e.palette.text.primary}},r.a.createElement(_,null),r.a.createElement(b.a,{className:a.darkModeButton,style:{backgroundColor:e.palette.buttons.main},variant:"contained",onClick:t.toggleColorMode},e.palette.mode," mode",r.a.createElement(et.a,{sx:{ml:1}},"dark"===e.palette.mode?r.a.createElement(rt.a,null):r.a.createElement(at.a,null))),r.a.createElement(E.d,null,r.a.createElement(E.b,{render:function(){return r.a.createElement(E.a,{to:"/posts"})},exact:!0,path:"/"}),r.a.createElement(E.b,{render:function(){return r.a.createElement(Te,{theme:e})},exact:!0,path:"/posts"}),r.a.createElement(E.b,{path:"/posts/search",render:function(){return r.a.createElement(Te,null)},exact:!0}),r.a.createElement(E.b,{path:"/posts/:id",render:function(){return r.a.createElement(Ze,null)},exact:!0}),r.a.createElement(E.b,{render:function(){return r.a.createElement(Je,null)},exact:!0,path:"/auth"}))))},lt=a(323),it=a(123),st=a(124),ut=a(324),mt=a(191),dt=a.n(mt),pt=a(192),gt=a.n(pt),ft=function(){var e=null===localStorage.getItem("theme")?"light":localStorage.getItem("theme"),t=r.a.useState(e),a=Object(p.a)(t,2),n=a[0],o=a[1];localStorage.setItem("theme",n);var c=r.a.useMemo((function(){return{toggleColorMode:function(){o((function(e){return"light"===e?"dark":"light"}))}}}),[]),l=r.a.useMemo((function(){return Object(g.a)({palette:Object(m.a)({mode:n},"light"===n?{primary:{main:qe.a[900]},divider:lt.a[200],text:{primary:it.a[900],secondary:it.a[800]},background:{default:"#fff",paper:"#fff"},buttons:{main:st.a[200]},appBar:{main:"#fff"},title:{main:"rgba(0,183,255, 1)"},images:{appBar:gt.a},card:{main:"#fff"}}:{primary:{main:ut.a[500]},divider:ut.a[700],text:{primary:"#fff",secondary:it.a[500]},background:{default:"#121212",paper:"#121212"},buttons:{main:it.a[200]},appBar:{main:it.a[500]},title:{main:qe.a[700]},images:{appBar:dt.a},card:{main:it.a[400]}})})}),[n]);return r.a.createElement(ot.Provider,{value:c},r.a.createElement(f.a,{theme:l},r.a.createElement(ct,null)))},vt=(a(262),Object(i.d)(d,Object(i.c)(Object(i.a)(s.a))));c.a.render(r.a.createElement(l.a,{store:vt},r.a.createElement(ft,null)),document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.e9abaf97.chunk.js.map